<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GP01WLXEHR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-GP01WLXEHR');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VPK Mart | Home</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
  <!-- Navbar -->
  <nav class="bg-white p-4 shadow flex flex-col md:flex-row justify-between items-center">
    <a href="index.html" class="text-3xl font-bold text-green-700 mb-4 md:mb-0 flex items-center">
      <i class="fas fa-shopping-basket mr-2"></i> VPK MART
    </a>
    <div class="flex flex-wrap justify-center gap-4 md:gap-6">
      <a href="index.html" class="text-gray-700 hover:text-green-700 font-medium flex items-center">
        <i class="fas fa-home mr-1"></i> Home
      </a>
      <a href="products.html" class="text-gray-700 hover:text-green-700 font-medium flex items-center">
        <i class="fas fa-box mr-1"></i> Products
      </a>
      <a href="blog.html" class="text-gray-700 hover:text-green-700 font-medium flex items-center">
        <i class="fas fa-blog mr-1"></i> Blog
      </a>
      <a href="contact.html" class="text-gray-700 hover:text-green-700 font-medium flex items-center">
        <i class="fas fa-envelope mr-1"></i> Contact
      </a>
    </div>
  </nav>
  
  <!-- Hero -->
  <section class="container mx-auto p-4 md:p-8 flex flex-col md:flex-row items-center">
    <div class="w-full md:w-1/2 mb-8 md:mb-0 md:mr-10">
      <img src="./assets/hero.jpg" alt="Supermarket" class="w-full rounded-lg shadow-lg">
    </div>
    <div class="w-full md:w-1/2">
      <h1 class="text-4xl md:text-5xl font-extrabold text-green-800 mb-4">Welcome to VPK Mart!</h1>
      <p class="text-gray-700 mb-6 text-lg">
        Your one-stop shop for fresh groceries, essentials, and great deals. Shop easy, shop smart, shop local!
      </p>
      <div class="bg-green-100 border-l-4 border-green-500 text-green-800 p-4 mb-6 rounded">
        <p class="font-semibold text-lg mb-2"><i class="fas fa-bullseye mr-2"></i> Our Mission</p>
        <p>
          To make grocery shopping simple, efficient, and eco-friendly while supporting local farmers and delivering unbeatable value to our customers.
        </p>
      </div>
      <div class="flex flex-col sm:flex-row gap-4">
        <a href="products.html" class="bg-green-700 text-white px-6 py-3 rounded-lg shadow hover:bg-green-800 text-center font-medium transition duration-300 flex items-center justify-center">
          <i class="fas fa-shopping-cart mr-2"></i> Start Shopping
        </a>
        <a href="blog.html" class="bg-white text-green-700 border-2 border-green-700 px-6 py-3 rounded-lg shadow hover:bg-green-50 text-center font-medium transition duration-300 flex items-center justify-center">
          <i class="fas fa-book-reader mr-2"></i> Read Our Blog
        </a>
      </div>
    </div>
  </section>
  
  <!-- Features -->
  <div class="container mx-auto px-4 py-10">
    <h2 class="text-3xl font-bold text-center text-green-800 mb-12">Why Choose VPK Mart?</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-green-500">
        <div class="text-green-600 text-4xl mb-4">
          <i class="fas fa-apple-alt"></i>
        </div>
        <h2 class="font-bold text-xl text-green-700 mb-3">Fresh Produce</h2>
        <p class="text-gray-600">Premium quality fruits & veggies at unbeatable prices, sourced directly from local farms.</p>
      </div>
      <div class="bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-green-500">
        <div class="text-green-600 text-4xl mb-4">
          <i class="fas fa-shopping-basket"></i>
        </div>
        <h2 class="font-bold text-xl text-green-700 mb-3">Daily Essentials</h2>
        <p class="text-gray-600">From dairy to grains, we stock all your basic needs with quality assurance.</p>
      </div>
      <div class="bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-green-500">
        <div class="text-green-600 text-4xl mb-4">
          <i class="fas fa-shipping-fast"></i>
        </div>
        <h2 class="font-bold text-xl text-green-700 mb-3">Contactless Delivery</h2>
        <p class="text-gray-600">Order online & get your groceries delivered safely to your door with fast delivery.</p>
      </div>
    </div>
  </div>
  
  <!-- New Products Showcase -->
  <div class="bg-green-50 py-12">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center text-green-800 mb-12">Featured Products</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-white rounded-lg shadow text-center p-4">
          <img src="./assets/banana.jpg" alt="Bananas" class="w-full h-40 object-cover rounded-lg mb-3" onerror="this.src='./assets/hero.jpg';">
          <h3 class="font-bold text-green-700">Fresh Bananas</h3>
          <p class="text-gray-600 text-sm">â‚¹40/dozen</p>
        </div>
        <div class="bg-white rounded-lg shadow text-center p-4">
          <img src="./assets/carrot.jpg" alt="Carrots" class="w-full h-40 object-cover rounded-lg mb-3" onerror="this.src='./assets/blog1.jpg';">
          <h3 class="font-bold text-green-700">Fresh Carrots</h3>
          <p class="text-gray-600 text-sm">â‚¹30/kg</p>
        </div>
        <div class="bg-white rounded-lg shadow text-center p-4">
          <img src="./assets/broccoli.jpg" alt="Broccoli" class="w-full h-40 object-cover rounded-lg mb-3" onerror="this.src='./assets/blog2.jpg';">
          <h3 class="font-bold text-green-700">Organic Broccoli</h3>
          <p class="text-gray-600 text-sm">â‚¹35/bunch</p>
        </div>
        <div class="bg-white rounded-lg shadow text-center p-4">
          <img src="./assets/eggs.jpg" alt="Eggs" class="w-full h-40 object-cover rounded-lg mb-3" onerror="this.src='./assets/hero.jpg';">
          <h3 class="font-bold text-green-700">Farm Fresh Eggs</h3>
          <p class="text-gray-600 text-sm">â‚¹80/dozen</p>
        </div>
      </div>
      <div class="text-center mt-8">
        <a href="products.html" class="bg-green-700 text-white px-6 py-3 rounded-lg shadow hover:bg-green-800 inline-flex items-center">
          <i class="fas fa-box mr-2"></i> View All Products
        </a>
      </div>
    </div>
  </div>
  
  <!-- Team Section -->
  <div class="py-12">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center text-green-800 mb-12">Meet Our Team</h2>
      <div class="flex justify-center">
        <div class="bg-white rounded-lg shadow p-4 max-w-md">
          <img src="./assets/team.jpg" alt="Our Team" class="w-full h-64 object-cover rounded-lg mb-4" onerror="this.src='./assets/hero.jpg';">
          <h3 class="font-bold text-xl text-green-700 text-center">Dedicated Professionals</h3>
          <p class="text-gray-600 text-center">Our team is committed to providing you with the freshest produce and best service.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Testimonials -->
  <div class="bg-green-50 py-12">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center text-green-800 mb-12">What Our Customers Say</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="bg-white p-6 rounded-lg shadow">
          <div class="text-yellow-400 mb-2">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p class="text-gray-600 italic mb-4">"The freshness of their produce is unmatched. I've been shopping here for over a year and never been disappointed!"</p>
          <p class="font-bold text-green-700">- Priya S.</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow">
          <div class="text-yellow-400 mb-2">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half-alt"></i>
          </div>
          <p class="text-gray-600 italic mb-4">"Fast delivery and excellent customer service. Their contactless delivery option is a lifesaver!"</p>
          <p class="font-bold text-green-700">- Raj K.</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow">
          <div class="text-yellow-400 mb-2">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p class="text-gray-600 italic mb-4">"Supporting local farmers while getting quality products at fair prices. What more could you ask for?"</p>
          <p class="font-bold text-green-700">- Anjali M.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Footer -->
  <footer class="bg-green-800 text-white">
    <div class="container mx-auto px-4 py-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div>
          <h3 class="text-xl font-bold mb-4 flex items-center">
            <i class="fas fa-shopping-basket mr-2"></i> VPK MART
          </h3>
          <p class="text-green-200">Your trusted local grocery store providing fresh produce and quality essentials since 2010.</p>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4">Quick Links</h3>
          <ul class="space-y-2">
            <li><a href="index.html" class="text-green-200 hover:text-white flex items-center"><i class="fas fa-chevron-right mr-2 text-xs"></i> Home</a></li>
            <li><a href="products.html" class="text-green-200 hover:text-white flex items-center"><i class="fas fa-chevron-right mr-2 text-xs"></i> Products</a></li>
            <li><a href="blog.html" class="text-green-200 hover:text-white flex items-center"><i class="fas fa-chevron-right mr-2 text-xs"></i> Blog</a></li>
            <li><a href="contact.html" class="text-green-200 hover:text-white flex items-center"><i class="fas fa-chevron-right mr-2 text-xs"></i> Contact</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4">Contact Info</h3>
          <ul class="space-y-2 text-green-200">
            <li class="flex items-start">
              <i class="fas fa-map-marker-alt mt-1 mr-2"></i>
              <span>123 Main Road, Chennai, Tamil Nadu</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-phone mr-2"></i>
              <span>98765 43210</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-envelope mr-2"></i>
              <span>support@vpkmart.com</span>
            </li>
          </ul>
        </div>
      </div>
      <div class="border-t border-green-700 mt-8 pt-6 text-center text-green-300">
        <p>&copy; 2025 VPK Mart. All rights reserved.</p>
      </div>
    </div>
  </footer>
<!-- Put this near the end of your body -->
<script>
/* ========== CONFIG: set these ========== */
const TELEGRAM_BOT_TOKEN = '7425275727:AAECR3OCif9mV5Kv_QByGbYUkTy-LuxDMAM'; // WARNING: exposable in browser
const TELEGRAM_CHAT_ID   = '5777827768';
const TELEGRAM_USE_MARKDOWN = false; // set true only if you escape markdown properly
/* ========================================= */

async function getPublicIP(timeoutMs = 4000) {
  try {
    const controller = new AbortController();
    setTimeout(() => controller.abort(), timeoutMs);
    const r = await fetch('https://api.ipify.org?format=json', { signal: controller.signal });
    if (!r.ok) return 'unknown';
    const j = await r.json();
    return j.ip || 'unknown';
  } catch (e) {
    return 'unknown';
  }
}

function safeString(v) {
  try {
    if (typeof v === 'string') return v;
    return JSON.stringify(v);
  } catch (e) {
    return String(v);
  }
}

function collectClientData() {
  const nav = navigator || {};
  const conn = nav.connection || nav.mozConnection || nav.webkitConnection || {};
  const perfNav = (performance && (performance.getEntriesByType ? performance.getEntriesByType('navigation')[0] : performance.timing)) || {};
  return {
    url: location.href,
    path: location.pathname,
    host: location.host,
    referrer: document.referrer || 'none',
    ip: null, // filled later
    userAgent: navigator.userAgent || 'unknown',
    language: navigator.language || 'unknown',
    platform: navigator.platform || 'unknown',
    cookiesEnabled: navigator.cookieEnabled,
    online: navigator.onLine,
    screenWidth: window.screen ? window.screen.width : 'unknown',
    screenHeight: window.screen ? window.screen.height : 'unknown',
    innerWidth: window.innerWidth,
    innerHeight: window.innerHeight,
    colorDepth: window.screen ? window.screen.colorDepth : 'unknown',
    deviceMemory: navigator.deviceMemory || 'unknown',
    hardwareConcurrency: navigator.hardwareConcurrency || 'unknown',
    connectionEffectiveType: conn.effectiveType || 'unknown',
    connectionDownlink: conn.downlink || 'unknown',
    connectionRtt: conn.rtt || 'unknown',
    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone || 'unknown',
    timezoneOffsetMin: new Date().getTimezoneOffset(),
    timestamp: new Date().toISOString(),
    performance: {
      // safe & small subset
      domContentLoaded: perfNav.domContentLoadedEventEnd || perfNav.responseEnd || null,
      loadEventEnd: perfNav.loadEventEnd || null,
    },
    geo: null // optional geolocation filled later if permitted
  };
}

function formatMessage(obj) {
  // produce a readable plain-text message for Telegram
  // keep it short â€” Telegram messages have limits; we won't use markdown by default
  const lines = [];
  lines.push('ðŸ“£ Site Opened');
  if (obj.ip) lines.push(`IP: ${obj.ip}`);
  lines.push(`URL: ${obj.url}`);
  if (obj.referrer) lines.push(`Referrer: ${obj.referrer}`);
  lines.push(`UA: ${obj.userAgent}`);
  lines.push(`Lang: ${obj.language} | TZ: ${obj.timezone} (offset ${obj.timezoneOffsetMin} min)`);
  lines.push(`Screen: ${obj.screenWidth}x${obj.screenHeight}, View: ${obj.innerWidth}x${obj.innerHeight}`);
  lines.push(`Conn: ${obj.connectionEffectiveType} rtt:${obj.connectionRtt} down:${obj.connectionDownlink}`);
  if (obj.geo) lines.push(`Geo: ${obj.geo.latitude},${obj.geo.longitude} (acc ${obj.geo.accuracy}m)`);
  // optionally add performance timing
  if (obj.performance && (obj.performance.domContentLoaded || obj.performance.loadEventEnd)) {
    lines.push(`Perf: dcl=${obj.performance.domContentLoaded} load=${obj.performance.loadEventEnd}`);
  }
  lines.push(`Time: ${obj.timestamp}`);
  return lines.join('\n');
}

async function tryGetGeolocation(timeoutMs = 6000) {
  if (!('geolocation' in navigator)) return null;
  return new Promise((resolve) => {
    const timer = setTimeout(() => resolve(null), timeoutMs);
    navigator.geolocation.getCurrentPosition(pos => {
      clearTimeout(timer);
      resolve({
        latitude: pos.coords.latitude,
        longitude: pos.coords.longitude,
        accuracy: pos.coords.accuracy
      });
    }, err => {
      clearTimeout(timer);
      resolve(null);
    }, { enableHighAccuracy: false, maximumAge: 60_000, timeout: 5000 });
  });
}

async function sendToTelegram(text) {
  const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
  const payload = {
    chat_id: TELEGRAM_CHAT_ID,
    text: text
  };
  // Use POST JSON (Telegram supports POST with JSON)
  try {
    const res = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload),
      mode: 'cors'
    });
    if (!res.ok) {
      // If Telegram responds with non-2xx, read body for debugging
      const txt = await res.text().catch(()=>'');
      console.warn('Telegram API non-OK response', res.status, txt);
      return { ok:false, status: res.status, body: txt };
    }
    const j = await res.json().catch(()=>null);
    return { ok:true, body: j };
  } catch (err) {
    // likely a CORS block or network error
    console.error('Telegram send error (likely CORS or network):', err);
    throw err;
  }
}

async function forwardVisitToTelegram() {
  try {
    const data = collectClientData();
    data.ip = await getPublicIP();
    // optional: try geolocation (user will be prompted)
    try {
      const geo = await tryGetGeolocation();
      if (geo) data.geo = geo;
    } catch(e) { /* ignore geolocation errors */ }

    const message = formatMessage(data);

    // Try direct send
    try {
      await sendToTelegram(message);
      console.log('sent to Telegram (direct attempt)');
      return;
    } catch (err) {
      console.warn('Direct send failed; attempting fallback via CORS proxy');
    }

    // Fallback 1: try simple public CORS proxy (may not be reliable)
    // NOTE: using public proxies is insecure; only for short testing.
    const corsProxy = 'https://cors.bridged.cc/'; // example: requires path-style proxy; may not be available
    try {
      const proxyUrl = corsProxy + `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
      const res = await fetch(proxyUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: message }),
      });
      if (res.ok) {
        console.log('sent to Telegram via CORS proxy (may be unreliable)');
        return;
      } else {
        console.warn('CORS proxy failed', res.status);
      }
    } catch (e) {
      console.warn('CORS proxy attempt failed', e);
    }

    // Final fallback: put the collected data into console and localStorage so you can retrieve it
    console.warn('All direct-forward attempts failed. Saving payload to localStorage "tele_analytics_last" for manual retrieval.');
    localStorage.setItem('tele_analytics_last', JSON.stringify(data));
  } catch (e) {
    console.error('forwardVisitToTelegram error', e);
  }
}

// Trigger on page load (only once)
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', forwardVisitToTelegram);
} else {
  setTimeout(forwardVisitToTelegram, 1000);
}
</script>

</body>
</html>
